(window.webpackJsonpbudgety=window.webpackJsonpbudgety||[]).push([[0],{1411:function(e,t,a){e.exports=a(1750)},1750:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(36),l=a.n(c),o=a(1822),u=a(1808),i=a(1807),s=a(271),m=a(85),E=a(318),d=a(15),f=a(1426),p=a(267);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y="http://localhost:3001",v=function(e,t,a){var r=f.a.fetchJson,n=function(e,t,a){switch(e){case d.d:var r=a.pagination,n=r.page,c=r.perPage,l=a.sort,o={_page:n,_limit:c,_sort:l.field,_order:l.order,q:a.filter.q};return a.filter.userId&&(o.userId=a.filter.userId),{url:"".concat(y,"/").concat(t,"?").concat(Object(p.stringify)(o))};case d.g:return{url:"".concat(y,"/").concat(t,"/").concat(a.id)};case d.e:var u="";return u=a.ids.map((function(e,t){return u+="&id="+a.ids[t]})),{url:"".concat(y,"/").concat(t,"?").concat(u)};case d.f:var i=a.pagination,s=i.page,m=i.perPage,f=a.sort,b=f.field,v=f.order,h={sort:JSON.stringify([b,v]),page:JSON.stringify([(s-1)*m,s*m-1]),filter:JSON.stringify(g({},a.filter,Object(E.a)({},a.target,a.id)))};return{url:"".concat(y,"/").concat(t,"?").concat(Object(p.stringify)(h))};case d.h:return{url:"".concat(y,"/").concat(t,"/").concat(a.id),options:{method:"PUT",body:JSON.stringify(a.data)}};case d.a:return{url:"".concat(y,"/").concat(t),options:{method:"POST",body:JSON.stringify(a.data)}};case d.b:return{url:"".concat(y,"/").concat(t,"/").concat(a.id),options:{method:"DELETE"}};case d.c:var O={filter:JSON.stringify({id:a.ids})};return{url:"".concat(y,"/").concat(t,"?").concat(Object(p.stringify)(O)),options:{method:"DELETE"}};default:throw new Error("Unsupported fetch action type ".concat(e))}}(e,t,a);return r(n.url,n.options).then((function(t){return function(e,t,a){var r=e.json;switch(t){case d.d:return{data:r.map((function(e){return e})),total:r.length};case d.a:return{data:g({},a.data,{id:r.id})};default:return{data:r}}}(t,e,a)}))},h=a(237),O=function(e,t){if(e===h.d){var a=t.username;return localStorage.setItem("username",a),Promise.resolve()}if(e===h.e)return localStorage.removeItem("username"),Promise.resolve();if(e===h.b){var r=t.status;return 401===r||403===r?(localStorage.removeItem("username"),Promise.reject()):Promise.resolve()}return e===h.a?localStorage.getItem("username")?Promise.resolve():Promise.reject({redirectTo:"/no-access"}):Promise.reject("Unknown method")},P=a(1820),j=a(1779),x=a(1819),I=function(){return n.a.createElement(P.a,null,n.a.createElement(x.a,{title:"Welcome to budgety app!"}),n.a.createElement(j.a,null,"Here you can add incomes and expences in your budgety list."))},w=a(103),N=function(){return n.a.createElement(P.a,null,n.a.createElement(w.a,{title:"NotFound"}),n.a.createElement(j.a,null,n.a.createElement("h1",null,n.a.createElement("i",null,"404: Page not found, sorry :( "))))},S=a(442),T=a(104),k=a(1780),J=a(1813),U=a(1782),V=a(1814),D=a(1787),q=a(1809),A=a(79),C=a(1789),L=a(1812),F=a(1790),_=a(1791),B=a(1816),H=a(1792),z=a(1821),M=a(1811),W=a(1793),G=a(1794),K=a(1818),Q=a(1796),R=a(1810),X=a(100),Y=a.n(X),Z=a(101),$=a.n(Z),ee=a(1788),te=function(e){var t=e.bulkActions,a=e.basePath,r=e.displayedFilters,c=e.filters,l=e.filterValues,o=e.onUnselectItems,u=e.resource,i=e.selectedIds,s=e.showFilter;return n.a.createElement(T.a,null,t&&n.a.cloneElement(t,{basePath:a,filterValues:l,resource:u,selectedIds:i,onUnselectItems:o}),c&&n.a.cloneElement(c,{resource:u,showFilter:s,displayedFilters:r,filterValues:l,context:"button"}),n.a.createElement(k.a,{basePath:a}))},ae=function(e){return n.a.createElement(J.a,e,n.a.createElement(U.a,{label:"Search",source:"q",alwaysOn:!0}),n.a.createElement(V.a,{label:"User's first name",source:"userId",reference:"users",allowEmpty:!0},n.a.createElement(D.a,{optionText:"firstName"})))},re=function(e){var t=e.page,a=e.total,r=e.setPage;return n.a.createElement(ee.a,null,t>1&&n.a.createElement(R.a,{color:"primary",key:"prev",icon:n.a.createElement(Y.a,null),onClick:function(){return r(t-1)}},"Prev"),a&&n.a.createElement(R.a,{color:"primary",key:"next",icon:n.a.createElement($.a,null),onClick:function(){return r(t+1)},labelposition:"before"},"Next"))},ne=function(e){var t=e.permissions,a=Object(S.a)(e,["permissions"]);return n.a.createElement(q.a,Object.assign({filters:n.a.createElement(ae,null),title:"List of incomes",actions:n.a.createElement(te,{permissions:t}),perPage:5,pagination:n.a.createElement(re,null)},a),n.a.createElement(A.a,{small:n.a.createElement(C.a,{primaryText:function(e){return e.incomeSource},secondaryText:function(e){return e.incomeValue},tertiaryText:function(e){return e.id}}),medium:n.a.createElement(L.a,{rowClick:"edit"},n.a.createElement(F.a,{label:"Income ID",source:"id"}),n.a.createElement(F.a,{label:"Income source",source:"incomeSource"}),n.a.createElement(_.a,{label:"Income value",source:"incomeValue"}),n.a.createElement(B.a,{source:"userId",reference:"users"},n.a.createElement(F.a,{label:"User's first name",source:"firstName"})),n.a.createElement(H.a,null))}))},ce=function(e){var t={};return e.incomeSource||(t.incomeSource=["The income source is required!"]),e.incomeValue||(t.incomeValue=["The income value id required!"]),t},le=function(e){return n.a.createElement(z.a,e,n.a.createElement(M.a,{validate:ce,redirect:"list"},n.a.createElement(V.a,{source:"userId",reference:"users"},n.a.createElement(D.a,{optionText:"firstName"})),n.a.createElement(U.a,{source:"incomeSource"}),n.a.createElement(W.a,{source:"incomeValue"}),n.a.createElement(G.a,{source:"income.description"})))},oe=function(e){var t=e.record;return n.a.createElement("span",null,"Post ",t?'"'.concat(t.incomeSource,'" '):"")},ue=function(e){return n.a.createElement(K.a,Object.assign({title:n.a.createElement(oe,null)},e),n.a.createElement(M.a,null,n.a.createElement(Q.a,{source:"id"}),n.a.createElement(V.a,{source:"userId",reference:"users"},n.a.createElement(D.a,{optionText:"firstName"})),n.a.createElement(U.a,{source:"incomeSource"}),n.a.createElement(W.a,{source:"incomeValue"}),n.a.createElement(G.a,{source:"income.description"})))},ie=a(259),se=a(1795),me=a(1817),Ee=a(1797),de=a(1798),fe=function(e){return n.a.createElement(J.a,e,n.a.createElement(U.a,{label:"Search",source:"q",alwaysOn:!0}),n.a.createElement(V.a,{label:"User's first name",source:"userId",reference:"users",allowEmpty:!0},n.a.createElement(D.a,{optionText:"firstName"})))},pe=function(e){var t=e.page,a=e.total,r=e.setPage;return n.a.createElement(ee.a,null,t>1&&n.a.createElement(R.a,{color:"primary",key:"prev",icon:n.a.createElement(Y.a,null),onClick:function(){return r(t-1)}},"Prev"),a&&n.a.createElement(R.a,{color:"primary",key:"next",icon:n.a.createElement($.a,null),onClick:function(){return r(t+1)},labelposition:"before"},"Next"))},be=function(e){var t=Object(ie.a)({},e);return n.a.createElement(q.a,Object.assign({filters:n.a.createElement(fe,null),title:"List of expences",filter:{title:!0},perPage:5,pagination:n.a.createElement(pe,null)},t),n.a.createElement(A.a,{small:n.a.createElement(C.a,{primaryText:function(e){return e.title},secondaryText:function(e){return e.value},tertiaryText:function(e){return e.id}}),medium:n.a.createElement(L.a,null,n.a.createElement(F.a,{label:"Expense ID",source:"id"}),n.a.createElement(F.a,{label:"Expense",source:"title"}),n.a.createElement(_.a,{label:"Expense value",source:"value"}),n.a.createElement(B.a,{source:"userId",reference:"users"},n.a.createElement(F.a,{label:"User's first name",source:"firstName"})),n.a.createElement(H.a,null),n.a.createElement(se.a,null))}))},ge=function(e){return n.a.createElement(z.a,Object.assign({},e,{redirect:"list"}),n.a.createElement(M.a,null,n.a.createElement(V.a,{source:"userId",reference:"users"},n.a.createElement(D.a,{optionText:"firstName"})),n.a.createElement(U.a,{source:"title"}),n.a.createElement(W.a,{source:"value"}),n.a.createElement(G.a,{source:"description"})))},ye=function(e){var t=e.record;return n.a.createElement("span",null,"Post ",t?'"'.concat(t.expence,'" '):"")},ve=function(e){return n.a.createElement(K.a,Object.assign({title:n.a.createElement(ye,null),undoable:!1},e),n.a.createElement(M.a,null,n.a.createElement(Q.a,{source:"id"}),n.a.createElement(V.a,{source:"userId",reference:"users"},n.a.createElement(D.a,{optionText:"firstName"})),n.a.createElement(U.a,{source:"title"}),n.a.createElement(U.a,{source:"value"}),n.a.createElement(G.a,{source:"description"})))},he=function(e){var t=e.record;return n.a.createElement("span",null,"About expense - ",t?"".concat(t.title):"")},Oe=function(e){return n.a.createElement(me.a,Object.assign({title:n.a.createElement(he,null)},e),n.a.createElement(Ee.a,null,n.a.createElement(F.a,{source:"id"}),n.a.createElement(F.a,{source:"title"}),n.a.createElement(_.a,{source:"value"}),n.a.createElement(B.a,{source:"userId",reference:"users"},n.a.createElement(F.a,{optiontext:"firstName"})),n.a.createElement(de.a,{source:"description"})))},Pe=a(1799),je=a(1800),xe=a(1801),Ie=a(1815),we=a(1803),Ne=a(1804),Se=a(1805),Te=a(1806),ke=a(1802),Je=function(e){e.id;var t=e.record;return n.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.about}})},Ue=function(e){return n.a.createElement(q.a,Object.assign({},e,{title:"List of users",pagination:!1}),n.a.createElement(A.a,{small:n.a.createElement(C.a,{primaryText:function(e){return e.firstName},secondaryText:function(e){return e.email}}),medium:n.a.createElement(L.a,{expand:n.a.createElement(Je,null),rowClick:"edit"},n.a.createElement(F.a,{source:"id"}),n.a.createElement(F.a,{source:"firstName"}),n.a.createElement(F.a,{source:"lastName"}),n.a.createElement(Pe.a,{label:"Occupation",source:"occupation"}),n.a.createElement(je.a,{source:"born"}),n.a.createElement(xe.a,{source:"email"}),n.a.createElement(_.a,{source:"phone"}),n.a.createElement(se.a,null))}))},Ve=function(e){var t=e.record;return n.a.createElement("span",null,"About user - ",t?"".concat(t.email):"")},De={zIndex:2,display:"inline-block",float:"right"},qe=function(e){var t=e.basePath,a=e.data;return n.a.createElement(ke.a,{style:De},n.a.createElement(H.a,{basePath:t,record:a}),n.a.createElement(R.a,{color:"primary"},"Custom Action"))},Ae=function(e){var t=Object(ie.a)({},e);return n.a.createElement(me.a,Object.assign({title:n.a.createElement(Ve,null),actions:n.a.createElement(qe,null)},t),n.a.createElement(Ie.a,null,n.a.createElement(we.a,{label:"summary"},n.a.createElement(F.a,{label:"First name:",source:"firstName"}),n.a.createElement(F.a,{label:"Last name:",source:"lastName"}),n.a.createElement(xe.a,{label:"Email:",source:"email"}),n.a.createElement(F.a,{label:"Phone number:",source:"phone"}),n.a.createElement(je.a,{label:"Birth date:",source:"born"}),n.a.createElement(Pe.a,{label:"Occupation",source:"occupation"})),n.a.createElement(we.a,{label:"About"},n.a.createElement(de.a,{label:"About user:",source:"about"}))))},Ce=Object(Ne.a)(),Le=function(e){return n.a.createElement(K.a,Object.assign({title:n.a.createElement(Ve,null),undoable:!1,redirect:"list"},e),n.a.createElement(M.a,null,n.a.createElement(U.a,{source:"id"}),n.a.createElement(U.a,{source:"firstName"}),n.a.createElement(U.a,{source:"lastName"}),n.a.createElement(Pe.a,{source:"occupation"}),n.a.createElement(Se.a,{source:"born"}),n.a.createElement(U.a,{source:"email",validate:Ce}),n.a.createElement(W.a,{source:"phone"}),n.a.createElement(Te.a,{source:"commentable"})))},Fe=function(){return n.a.createElement(o.a,{backgroundImage:"./background.jpg"})},_e=Object(m.a)(),Be=function(){return n.a.createElement(u.a,{authProvider:O,dataProvider:v,dashboard:I,title:"Budgety",catchAll:N,loginPage:Fe,history:_e},n.a.createElement(i.a,{name:"users",list:Ue,icon:s.b,show:Ae,edit:Le}),n.a.createElement(i.a,{name:"incomes",list:ne,create:le,edit:ue,icon:s.a}),n.a.createElement(i.a,{name:"expenses",show:Oe,list:be,create:ge,icon:s.c,edit:ve}))};l.a.render(n.a.createElement(Be,null),document.querySelector("#root"))}},[[1411,1,2]]]);
//# sourceMappingURL=main.986e12a1.chunk.js.map